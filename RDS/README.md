# RDSについて

- Multi-AZ
  - アプリ側での対処の必要なし(endpointは変わらない)
  - スタンバイ状態のDBはアクセス不可

- フェイルオーバーの発生タイミング
  - インスタンスやハードウェア障害
  - パッチ適用などのメンテナンス時間
  - 手動リブートに強制フェイルオーバー指定

- リードレプリカ(RR)
  - 5台まで (Auroraは15台)
  - インスタンスやストレージをマスターと異なるタイプに設定できる
  - スタンドアロンのDBインスタンスに昇格でき、MySQL, MariaDBではパラメータ設定で書き込みも可能
  - MySQL MariaDB PostgresSQL Auroraに対応

- スケールアップ
  - インスタンスサイズは拡大・縮小できる
  - ディスクサイズは拡張はできるが、縮小はできない

- DBインスタンスタイプ
  - R3: メモリ重視
  - M4: CPU重視
  - T2: 開発・検証

- RDSでのストレージタイプ
  - SSD(GP2): 高性能 + バースト (100 - 10,000 IOPS)
  - プロビジョンドIOPS(PIOPS): 安定した高性能(1,000 - 30,000 IOPS)

- スナップショットとリストア
  - 自動的なバックアップ
    - 自動スナップショットとトランザクションログをs3に保存
  - スナップショット 
    - 1日1回自動取得(バックアップウィンドウで指定した時間帯)
    - 保存期間は最大35日分
  - リストア
    - スナップショットを元にDBインスタンスを作成
    - Point-in-Timeリカバリ
      - 指定した時刻(5分以上前)の状態になるようにDBインスタンスを作成
