# CloudFormationについて

- スタックとテンプレートの関係
  - Template
    - JSON/YAML形式のテキスト
  - フレームワーク   
    - スタックの作成・更新
    - エラー検知とロールバック
  - スタック 
 
- スタック 
  - テンプレートからプロビジョニングされるリソースの集合のこと
  - スタック単位でリソースの管理が可能。スタック破棄を実行すると、スタックに紐づくリソースを破棄することが可能
  - 使用するリソースおよび、構築順はテンプレートの依存関係からCloudFormationが自動的に決定
  - 起動方: コンソール / CLI / SDK

- テンプレート
  - セキュリティや可用性を考慮したベストプラクティス
  - マイクロソフト,SAP,トレンドマイクロなどの製品をサポート
  - 15分程度でアプリケーションをAWS上に展開可能
  
- Resourceとは  
  - EC2やELB, RDSなど起動するサービスを指定
  - リソースごとに決められたプロパティを設定する
  - 利用可能なリソースタイプは現在42サービス、173リソース

- Parametersとは  
  - スタック構築時に値を定義できる
  - データ型、デフォルト値、最大最小値などの型を設定可能
  - Refにより参照可能
  - ユーザ名やパスワードなどのを参照するのに使う

- Functionとは
  - パラメータ参照やMapの参照などの際はFunctionを利用
  - 擬似パラメータ(リージョン名、スタック名)
  
- Mappingとは  
  - キーと値のマッピングテーブルを管理できる
  - リージョンやユーザ入力パラメータによって値が変わるもに利用
  
- Conditions
  - 条件名と成立条件を列挙
  
- Outputs
  - スタック構築時に取得・表示した情報を定義
    - URL/DB情報、IAMユーザなど


- CloudFormer
  - 構築済みの環境からテンプレートを作成するツール
  - 全てのリソースをサポート
  
- CloudFormation Designer
  - 視覚的に作成するツール
  
- クロススタック 
  - スタックから別のスタックへリソースをエクスポート
